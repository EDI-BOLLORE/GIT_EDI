<edimap xmlns:medi="http://www.milyn.org/schema/edi-message-mapping-1.4.xsd">
    <import namespace="UN" resource="__modelset_definitions.xml"/>
    <description name="BOPCUS" version="D:94B:UN"/>
    <delimiters component=":" escape="?" field="+" segment="'!$" sub-component="~"/>
    <segments xmltag="BOPCUS">
        <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="1" nodeTypeRef="UN:BGM" segcode="BGM" truncatable="true" xmltag="Beginning_of_message">
            <documentation>BGM,
       A segment to indicate the type and function of the message and
       to transmit its identifying number.</documentation>
        </segment>
        <segment ignoreUnmappedFields="false" maxOccurs="3" minOccurs="1" nodeTypeRef="UN:DTM" segcode="DTM" truncatable="true" xmltag="Date_time_period">
            <documentation>DTM,
       A segment to specify the date and, when required, the time at
       which the message has been created as well as other dates and
       times relevant to the financial transaction (day, month, year).</documentation>
        </segment>
        <segmentGroup maxOccurs="2" minOccurs="0" xmltag="Segment_group_1">
            <documentation>Segment group 1:
       A group of segments to give auxiliary references and the
       relevant dates for the message itself.</documentation>
            <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="1" nodeTypeRef="UN:RFF" segcode="RFF" truncatable="true" xmltag="Reference">
                <documentation>RFF,
          A segment to give another reference for the message.</documentation>
            </segment>
            <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="0" nodeTypeRef="UN:DTM" segcode="DTM" truncatable="true" xmltag="Date_time_period">
                <documentation>DTM,
          A segment to give the period reported in the message.</documentation>
            </segment>
        </segmentGroup>
        <segmentGroup maxOccurs="2" minOccurs="1" xmltag="Segment_group_2">
            <documentation>Segment group 2:
       A group of segments to give the identification of the reporting
       agent (generally the bank) or, possibly with a second
       occurence, the identification of the bank on behalf of which
       the declaration is made.</documentation>
            <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="1" nodeTypeRef="UN:NAD" segcode="NAD" truncatable="true" xmltag="Name_and_address">
                <documentation>NAD,
          A segment to identify the resident party.</documentation>
            </segment>
            <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="0" nodeTypeRef="UN:CTA" segcode="CTA" truncatable="true" xmltag="Contact_information">
                <documentation>CTA,
          A segment to identify a person or a department for the party
          specified in the NAD segment and to whom communication
          should be directed.</documentation>
            </segment>
            <segment ignoreUnmappedFields="false" maxOccurs="5" minOccurs="0" nodeTypeRef="UN:COM" segcode="COM" truncatable="true" xmltag="Communication_contact">
                <documentation>COM,
          A segment to give communication number for the party
          identified in the NAD segment.</documentation>
            </segment>
        </segmentGroup>
        <segmentGroup maxOccurs="9999" minOccurs="1" xmltag="Segment_group_3">
            <documentation>Segment group 3:
       A group of segments to accommodate the details corresponding
       with one payment ordered via a PAYORD / PAYMUL / PAYEXT message
       or with BOPINF message received during the relevant period.</documentation>
            <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="1" nodeTypeRef="UN:LIN" segcode="LIN" truncatable="true" xmltag="Line_item">
                <documentation>LIN,
          A segment identifying the line item by a current line
          number.</documentation>
            </segment>
            <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="0" nodeTypeRef="UN:FII" segcode="FII" truncatable="true" xmltag="Financial_institution_information">
                <documentation>FII,
          A segment giving the identification of the other financial
          institution abroad involved in the transaction and possibly
          the account number.</documentation>
            </segment>
            <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="0" nodeTypeRef="UN:DTM" segcode="DTM" truncatable="true" xmltag="Date_time_period">
                <documentation>DTM,
          A segment to give the processing date of the transaction.</documentation>
            </segment>
            <segmentGroup maxOccurs="2" minOccurs="0" xmltag="Segment_group_4">
                <documentation>Segment group 4:
          A segment group to give references and dates of the
          corresponding PAYORD message or the payment order. A second
          optional occurrence allows the specification of another
          reference to the same information.</documentation>
                <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="1" nodeTypeRef="UN:RFF" segcode="RFF" truncatable="true" xmltag="Reference">
                    <documentation>RFF,
             A segment to give the serial number of the PAYORD related
             message or the bank reference of the payment order.</documentation>
                </segment>
                <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="0" nodeTypeRef="UN:DTM" segcode="DTM" truncatable="true" xmltag="Date_time_period">
                    <documentation>DTM,
             A segment to give the day, month &amp; year when the related
             PAYORD message was emitted or when the payment order was
             performed.</documentation>
                </segment>
            </segmentGroup>
            <segmentGroup maxOccurs="4" minOccurs="0" xmltag="Segment_group_5">
                <documentation>Segment group 5:
          A group of segments giving the identification (and possible
          details) of the Payee and the Payor and, for declaration on
          behalf of somebody else, their "declaring agent" .</documentation>
                <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="1" nodeTypeRef="UN:NAD" segcode="NAD" truncatable="true" xmltag="Name_and_address">
                    <documentation>NAD,
             A segment to identify the resident party.</documentation>
                </segment>
                <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="0" nodeTypeRef="UN:CTA" segcode="CTA" truncatable="true" xmltag="Contact_information">
                    <documentation>CTA,
             A segment to identify a person or a department for the
             party specified in the NAD segment and to whom
             communication should be directed.</documentation>
                </segment>
                <segment ignoreUnmappedFields="false" maxOccurs="5" minOccurs="0" nodeTypeRef="UN:COM" segcode="COM" truncatable="true" xmltag="Communication_contact">
                    <documentation>COM,
             A segment to give a communication number for the party
             identified in the NAD segment.</documentation>
                </segment>
            </segmentGroup>
            <segmentGroup maxOccurs="1" minOccurs="0" xmltag="Segment_group_6">
                <documentation>Segment group 6:
          A group of segments to give the total amount of the payment
          and the relevant currencies.</documentation>
                <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="1" nodeTypeRef="UN:MOA" segcode="MOA" truncatable="true" xmltag="Monetary_amount">
                    <documentation>MOA,
             A segment to give the total amount of the payment and the
             relevant currency.</documentation>
                </segment>
                <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="0" nodeTypeRef="UN:CUX" segcode="CUX" truncatable="true" xmltag="Currencies">
                    <documentation>CUX,
             A segment to give the reference currency (e.g. the
             currency of the account) and the target currency (e.g.
             the currency of the transfer) of the payment when they
             are different.</documentation>
                </segment>
            </segmentGroup>
            <segmentGroup maxOccurs="10" minOccurs="0" xmltag="Segment_group_7">
                <documentation>Segment group 7:
          A group of segments providing brief structured cross
          references to transactions to which the Payment Order
          relates.</documentation>
                <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="1" nodeTypeRef="UN:DOC" segcode="DOC" truncatable="true" xmltag="Document_message_details">
                    <documentation>DOC,
             A segment providing brief structured cross reference to
             transaction to which the Payment Order relates.</documentation>
                </segment>
                <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="0" nodeTypeRef="UN:DTM" segcode="DTM" truncatable="true" xmltag="Date_time_period">
                    <documentation>DTM,
             A segment identifying the date of issue of the document
             described in the preceding DOC segment group 7.</documentation>
                </segment>
            </segmentGroup>
            <segmentGroup maxOccurs="10" minOccurs="1" xmltag="Segment_group_8">
                <documentation>Segment group 8:
          A group of segments to give the nature of the transaction,
          the amount and geographical detail. If the payment relates
          to different transactions or consists of composite payments
          each transaction has to be specified by its nature, its
          amount and, if necessary its geographical detail.</documentation>
                <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="1" nodeTypeRef="UN:RCS" segcode="RCS" truncatable="true" xmltag="Requirements_and_conditions">
                    <documentation>RCS,
             A segment to give the nature of transaction.</documentation>
                </segment>
                <segment ignoreUnmappedFields="false" maxOccurs="10" minOccurs="0" nodeTypeRef="UN:FTX" segcode="FTX" truncatable="true" xmltag="Free_text">
                    <documentation>FTX,
             A segment to give information in clear and free form
             about the nature of transaction.</documentation>
                </segment>
                <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="0" nodeTypeRef="UN:MOA" segcode="MOA" truncatable="true" xmltag="Monetary_amount">
                    <documentation>MOA,
             A segment to give the amount and the currency of the
             transaction.</documentation>
                </segment>
                <segment ignoreUnmappedFields="false" maxOccurs="4" minOccurs="0" nodeTypeRef="UN:LOC" segcode="LOC" truncatable="true" xmltag="Place_location_identification">
                    <documentation>LOC,
             A segment to indicate one of the different countries
             involved in the transaction.</documentation>
                </segment>
            </segmentGroup>
        </segmentGroup>
        <segmentGroup maxOccurs="1" minOccurs="0" xmltag="Segment_group_9">
            <documentation>Segment group 9:
       A group of segments to specify the details of authentication.</documentation>
            <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="1" nodeTypeRef="UN:AUT" segcode="AUT" truncatable="true" xmltag="Authentication_result">
                <documentation>AUT,
          A segment to specify the details of any authentication
          (validation) procedure applied to the BOPCUS message.</documentation>
            </segment>
            <segment ignoreUnmappedFields="false" maxOccurs="1" minOccurs="0" nodeTypeRef="UN:DTM" segcode="DTM" truncatable="true" xmltag="Date_time_period">
                <documentation>DTM,
          A segment identifying the validation date/time.</documentation>
            </segment>
        </segmentGroup>
    </segments>
</edimap>
